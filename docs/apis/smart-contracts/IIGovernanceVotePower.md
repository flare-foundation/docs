---
title: IIGovernanceVotePower
---

<!-- This is an autogenerated file. Do not edit! -->

# `IIGovernanceVotePower` { #ct_iigovernancevotepower }

<div class="api-node-source" markdown>
[Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/interface/IIGovernanceVotePower.sol) | Inherits from [IGovernanceVotePower](./IGovernanceVotePower.md)
</div>

<div class="api-node-internal" markdown>

Internal interface for contracts delegating their governance vote power.

</div>

<div class="api-node-type" markdown>

## Events

<div class="api-node" markdown>

### `DelegateChanged` { #ev_delegatechanged }

<div class="api-node-source" markdown>
Defined in `IIGovernanceVotePower` ([Docs](./IIGovernanceVotePower.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/interface/IIGovernanceVotePower.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
event DelegateChanged(
    address delegator,
    address fromDelegate,
    address toDelegate
)
```

Emitted when an account starts delegating vote power or switches its delegation
to another address.

The event is always emitted from a [`GovernanceVotePower`](./GovernanceVotePower.md) contract.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `delegator` | `address` | Account delegating its vote power. |
| `fromDelegate` | `address` | Account receiving the delegation before the change. Can be address(0) if there was no previous delegation. |
| `toDelegate` | `address` | Account receiving the delegation after the change. Can be address(0) if `delegator` just undelegated all its vote power. |

</div>
</div>

<div class="api-node" markdown>

### `DelegateVotesChanged` { #ev_delegatevoteschanged }

<div class="api-node-source" markdown>
Defined in `IIGovernanceVotePower` ([Docs](./IIGovernanceVotePower.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/interface/IIGovernanceVotePower.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
event DelegateVotesChanged(
    address delegate,
    uint256 previousBalance,
    uint256 newBalance
)
```

Emitted when a [`delegate`](#fn_delegate)'s vote power changes, as a result of a new delegation
or a token transfer, for example.

The event is always emitted from a [`GovernanceVotePower`](./GovernanceVotePower.md) contract.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `delegate` | `address` | The account receiving the changing delegated vote power. |
| `previousBalance` | `uint256` | Delegated vote power before the change. |
| `newBalance` | `uint256` | Delegated vote power after the change. |

</div>
</div>

</div>

<div class="api-node-type" markdown>

## Functions

<div class="api-node" markdown>

### `delegate` { #fn_delegate }

<div class="api-node-source" markdown>
Defined in `IGovernanceVotePower` ([Docs](./IGovernanceVotePower.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IGovernanceVotePower.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function delegate(
    address _to
) external;
```

Delegates all governance vote power of `msg.sender` to address `_to`.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_to` | `address` | The address of the recipient. |

</div>
</div>

<div class="api-node" markdown>

### `getCleanupBlockNumber` { #fn_getcleanupblocknumber }

<div class="api-node-source" markdown>
Defined in `IIGovernanceVotePower` ([Docs](./IIGovernanceVotePower.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/interface/IIGovernanceVotePower.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getCleanupBlockNumber(
) external view returns (
    uint256);
```

Get the current cleanup block number set with [`setCleanupBlockNumber`](#fn_setcleanupblocknumber).

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | The currently set cleanup block number. |
</div>
</div>

<div class="api-node" markdown>

### `getDelegateOfAt` { #fn_getdelegateofat }

<div class="api-node-source" markdown>
Defined in `IGovernanceVotePower` ([Docs](./IGovernanceVotePower.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IGovernanceVotePower.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getDelegateOfAt(
    address _who,
    uint256 _blockNumber
) external view returns (
    address);
```

Gets the address an account is delegating its governance vote power to, at a given block number.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_who` | `address` | The address being queried. |
| `_blockNumber` | `uint256` | The block number at which to fetch the address. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `address` | Address where `_who` was delegating its governance vote power at block `_blockNumber`. |
</div>
</div>

<div class="api-node" markdown>

### `getDelegateOfAtNow` { #fn_getdelegateofatnow }

<div class="api-node-source" markdown>
Defined in `IGovernanceVotePower` ([Docs](./IGovernanceVotePower.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IGovernanceVotePower.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getDelegateOfAtNow(
    address _who
) external view returns (
    address);
```

Gets the address an account is delegating its governance vote power to, at the latest block number.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_who` | `address` | The address being queried. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `address` | Address where `_who` is currently delegating its governance vote power. |
</div>
</div>

<div class="api-node" markdown>

### `getVotes` { #fn_getvotes }

<div class="api-node-source" markdown>
Defined in `IGovernanceVotePower` ([Docs](./IGovernanceVotePower.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IGovernanceVotePower.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getVotes(
    address _who
) external view returns (
    uint256);
```

Gets the governance vote power of an address at the latest block, including
all delegations made to it.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_who` | `address` | The address being queried. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Governance vote power of `account` at the lastest block. |
</div>
</div>

<div class="api-node" markdown>

### `ownerToken` { #fn_ownertoken }

<div class="api-node-source" markdown>
Defined in `IIGovernanceVotePower` ([Docs](./IIGovernanceVotePower.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/interface/IIGovernanceVotePower.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function ownerToken(
) external view returns (
    contract IVPToken);
```

Get the token that this governance vote power contract belongs to.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `contract IVPToken` | The [`IVPToken`](./IVPToken.md) interface owning this contract. |
</div>
</div>

<div class="api-node" markdown>

### `setCleanerContract` { #fn_setcleanercontract }

<div class="api-node-source" markdown>
Defined in `IIGovernanceVotePower` ([Docs](./IIGovernanceVotePower.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/interface/IIGovernanceVotePower.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function setCleanerContract(
    address _cleanerContract
) external;
```

Set the contract that is allowed to call history cleaning methods.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_cleanerContract` | `address` | Address of the cleanup contract. Usually this will be an instance of [`CleanupBlockNumberManager`](./CleanupBlockNumberManager.md). |

</div>
</div>

<div class="api-node" markdown>

### `setCleanupBlockNumber` { #fn_setcleanupblocknumber }

<div class="api-node-source" markdown>
Defined in `IIGovernanceVotePower` ([Docs](./IIGovernanceVotePower.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/interface/IIGovernanceVotePower.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function setCleanupBlockNumber(
    uint256 _blockNumber
) external;
```

Set the cleanup block number.
Historic data for the blocks before `cleanupBlockNumber` can be erased.
History before that block should never be used since it can be inconsistent.
In particular, cleanup block number must be lower than the current vote power block.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_blockNumber` | `uint256` | The new cleanup block number. |

</div>
</div>

<div class="api-node" markdown>

### `undelegate` { #fn_undelegate }

<div class="api-node-source" markdown>
Defined in `IGovernanceVotePower` ([Docs](./IGovernanceVotePower.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IGovernanceVotePower.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function undelegate(
) external;
```

Undelegates all governance vote power of `msg.sender`.

</div>
</div>

<div class="api-node" markdown>

### `updateAtTokenTransfer` { #fn_updateattokentransfer }

<div class="api-node-source" markdown>
Defined in `IIGovernanceVotePower` ([Docs](./IIGovernanceVotePower.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/token/interface/IIGovernanceVotePower.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function updateAtTokenTransfer(
    address _from,
    address _to,
    uint256 _fromBalance,
    uint256 _toBalance,
    uint256 _amount
) external;
```

Update governance vote power of all involved delegates after tokens are transferred.

This function **MUST** be called after each governance token transfer for the
delegates to reflect the correct balance.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_from` | `address` | Source address of the transfer. |
| `_to` | `address` | Destination address of the transfer. |
| `_fromBalance` | `uint256` | _Ignored._ |
| `_toBalance` | `uint256` | _Ignored._ |
| `_amount` | `uint256` | Amount being transferred. |

</div>
</div>

<div class="api-node" markdown>

### `votePowerOfAt` { #fn_votepowerofat }

<div class="api-node-source" markdown>
Defined in `IGovernanceVotePower` ([Docs](./IGovernanceVotePower.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IGovernanceVotePower.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function votePowerOfAt(
    address _who,
    uint256 _blockNumber
) external view returns (
    uint256);
```

Gets the governance vote power of an address at a given block number, including
all delegations made to it.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_who` | `address` | The address being queried. |
| `_blockNumber` | `uint256` | The block number at which to fetch the vote power. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Governance vote power of `_who` at `_blockNumber`. |
</div>
</div>

</div>

