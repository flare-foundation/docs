---
title: FtsoRewardManager
---

<!-- This is an autogenerated file. Do not edit! -->

# `FtsoRewardManager` { #ct_ftsorewardmanager }

<div class="api-node-source" markdown>
[Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol) | Inherits from [IIFtsoRewardManager](./IIFtsoRewardManager.md), [Governed](./Governed.md), ReentrancyGuard, [AddressUpdatable](./AddressUpdatable.md)
</div>

<div class="api-node-internal" markdown>

Handles reward distribution and claiming related to the FTSO system.

More specifically, this contract:

* Distributes rewards according to instructions from the [`FtsoManager`](./FtsoManager.md).
* Allows data providers, delegators and executors to [`claim`](#fn_claim) rewards.

</div>

<div class="api-node-type" markdown>

## Functions

<div class="api-node" markdown>

### `accrueUnearnedRewards` { #fn_accrueunearnedrewards }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function accrueUnearnedRewards(
    uint256 _epochId,
    uint256 _priceEpochDurationSeconds,
    uint256 _priceEpochEndTime
) external;
```

Accrue unearned rewards for a given price epoch.
Typically done when the FTSO is in fallback mode or because of insufficient vote power.
Simply accrue them so they will not be distributed and will be burned later.

The amount of rewards that will be burned is calculated in the same way as in [`distributeRewards`](#fn_distributerewards).

Only the FTSO Manager can call this method.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_epochId` | `uint256` |  |
| `_priceEpochDurationSeconds` | `uint256` |  |
| `_priceEpochEndTime` | `uint256` |  |

</div>
</div>

<div class="api-node" markdown>

### `activate` { #fn_activate }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function activate(
) external;
```

Activates reward manager (allows claiming rewards).

Only [`governance`](#fn_governance) can call this method.

</div>
</div>

<div class="api-node" markdown>

### `active` { #fn_active }

<div class="api-node-source" markdown>
Defined in `IFtsoRewardManager` ([Docs](./IFtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/userInterfaces/IFtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function active(
) external view returns (
    bool);
```

Whether rewards can be claimed from this reward manager.

</div>
</div>

<div class="api-node" markdown>

### `autoClaim` { #fn_autoclaim }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function autoClaim(
    address[] _rewardOwners,
    uint256 _rewardEpoch
) external;
```

Allows claiming rewards simultaneously for a list of reward owners and all unclaimed epochs before the
specified one.

This is meant as a convenience all-in-one reward claiming method to be used both by reward owners and
[registered executors](https://docs.flare.network/tech/automatic-claiming/#registered-claiming-process).
It performs a series of operations, besides claiming rewards:

* If a reward owner has enabled its
[Personal Delegation Account](https://docs.flare.network/tech/personal-delegation-account), rewards are also
claimed for the PDA and the total claimed amount is sent to that PDA.
Otherwise, the claimed amount is sent to the reward owner's account.

* Claimed amount is automatically wrapped through the [`WNat`](./WNat.md) contract.

* If the caller is a registered executor with a non-zero fee, the fee is paid to the executor for each claimed
address.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_rewardOwners` | `address[]` | List of reward owners to claim for. |
| `_rewardEpoch` | `uint256` | Last reward epoch ID to claim for. All previous epochs with pending rewards will be claimed too. |

</div>
</div>

<div class="api-node" markdown>

### `cancelGovernanceCall` { #fn_cancelgovernancecall }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function cancelGovernanceCall(
    bytes4 _selector
) external;
```

Cancel a timelocked [`governance`](#fn_governance) call before it has been executed.

Only [`governance`](#fn_governance) can call this method.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_selector` | `bytes4` | The method selector. |

</div>
</div>

<div class="api-node" markdown>

### `claim` { #fn_claim }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function claim(
    address _rewardOwner,
    address payable _recipient,
    uint256 _rewardEpoch,
    bool _wrap
) external returns (
    uint256 _rewardAmount);
```

Allows the caller to [`claim`](#fn_claim) rewards for a reward owner.
The caller does not have to be the owner of the rewards, but must be approved by the owner to [`claim`](#fn_claim) on his
behalf by using `setClaimExecutors` on the [`claimSetupManager`](#va_claimsetupmanager).

This function is intended to be used to [`claim`](#fn_claim) rewards in case of delegation by percentage.
Reverts if `msg.sender` is delegating by amount.

Anybody can call this method, but rewards can only be sent to the reward owner, therefore no funds can be
stolen. However, by limiting the authorized callers, the owner can control the timing of the calls.

When the reward owner is the caller, rewards can be sent to any recipient set by `setAllowedClaimRecipients` on
the [`claimSetupManager`](#va_claimsetupmanager).
The reward owner's [Personal Delegation Account](https://docs.flare.network/tech/personal-delegation-account)
is always an authorized recipient.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_rewardOwner` | `address` | Address of the reward owner. |
| `_recipient` | `address payable` | Address to transfer claimed rewards to. |
| `_rewardEpoch` | `uint256` | Last reward epoch to claim for. All previous epochs with pending rewards will be claimed too. |
| `_wrap` | `bool` | Whether claimed rewards should be wrapped through the [`WNat`](./WNat.md) contract before transferring them to the `_recipient`. This parameter is offered as a convenience. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_rewardAmount` | `uint256` | Total amount of claimed rewards (wei). |
</div>
</div>

<div class="api-node" markdown>

### `claimFromDataProviders` { #fn_claimfromdataproviders }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function claimFromDataProviders(
    address _rewardOwner,
    address payable _recipient,
    uint256[] _rewardEpochs,
    address[] _dataProviders,
    bool _wrap
) external returns (
    uint256 _rewardAmount);
```

Allows the caller to [`claim`](#fn_claim) rewards for a reward owner from specific data providers.
The caller does not have to be the owner of the rewards, but must be approved by the owner to [`claim`](#fn_claim) on his
behalf by using `setClaimExecutors` on the [`claimSetupManager`](#va_claimsetupmanager).

This function is intended to be used to [`claim`](#fn_claim) rewards in case of delegation by amount (explicit delegation).
Reverts if `msg.sender` is delegating by percentage.

Anybody can call this method, but rewards can only be sent to the reward owner, therefore no funds can be
stolen. However, by limiting the authorized callers, the owner can control the timing of the calls.

When the reward owner is the caller, rewards can be sent to any recipient set by `setAllowedClaimRecipients` on
the [`claimSetupManager`](#va_claimsetupmanager).
The reward owner's [Personal Delegation Account](https://docs.flare.network/tech/personal-delegation-account)
is always an authorized recipient.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_rewardOwner` | `address` | Address of the reward owner. |
| `_recipient` | `address payable` | Address to transfer claimed rewards to. |
| `_rewardEpochs` | `uint256[]` | Array of reward epoch IDs to claim for. |
| `_dataProviders` | `address[]` | Array of addresses of the data providers to claim the reward from. |
| `_wrap` | `bool` | Whether claimed rewards should be wrapped through the [`WNat`](./WNat.md) contract before transferring them to the `_recipient`. This parameter is offered as a convenience. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_rewardAmount` | `uint256` | Total amount of claimed rewards (wei). |
</div>
</div>

<div class="api-node" markdown>

### `claimReward` { #fn_claimreward }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function claimReward(
    address payable _recipient,
    uint256[] _rewardEpochs
) external returns (
    uint256 _rewardAmount);
```

Allows a percentage delegator to [`claim`](#fn_claim) rewards.
This function is intended to be used to [`claim`](#fn_claim) rewards in case of delegation by percentage.

**This function is deprecated**: use [`claim`](#fn_claim) instead.

Reverts if `msg.sender` is delegating by amount.
Claims for all unclaimed reward epochs to the 'max(_rewardEpochs)'.
Retained for backward compatibility.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_recipient` | `address payable` | Address to transfer funds to. |
| `_rewardEpochs` | `uint256[]` | Array of reward epoch numbers to claim for. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_rewardAmount` | `uint256` | Amount of total claimed rewards (wei). |
</div>
</div>

<div class="api-node" markdown>

### `claimRewardFromDataProviders` { #fn_claimrewardfromdataproviders }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function claimRewardFromDataProviders(
    address payable _recipient,
    uint256[] _rewardEpochs,
    address[] _dataProviders
) external returns (
    uint256 _rewardAmount);
```

Allows the caller to [`claim`](#fn_claim) rewards from specific data providers.
This function is intended to be used to [`claim`](#fn_claim) rewards in case of delegation by amount.

**This function is deprecated**: use [`claimFromDataProviders`](#fn_claimfromdataproviders) instead.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_recipient` | `address payable` | Address to transfer funds to. |
| `_rewardEpochs` | `uint256[]` | Array of reward epoch numbers to claim for. |
| `_dataProviders` | `address[]` | Array of addresses of the data providers to claim the reward from. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_rewardAmount` | `uint256` | Total amount of claimed rewards (wei). |
</div>
</div>

<div class="api-node" markdown>

### `closeExpiredRewardEpoch` { #fn_closeexpiredrewardepoch }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function closeExpiredRewardEpoch(
    uint256 _rewardEpoch
) external;
```

Collects funds from expired reward epoch and calculates totals.

Triggered by [`ftsoManager`](#va_ftsomanager) on finalization of a reward epoch.
Operation is irreversible: when some reward epoch is closed according to current
settings, it cannot be reopened even if new parameters would
allow it, because `nextRewardEpochToExpire` in [`ftsoManager`](#va_ftsomanager) never decreases.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_rewardEpoch` | `uint256` |  |

</div>
</div>

<div class="api-node" markdown>

### `constructor` { #fn_constructor }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
constructor(
    address _governance,
    address _addressUpdater,
    address _oldFtsoRewardManager,
    uint256 _feePercentageUpdateOffset,
    uint256 _defaultFeePercentage
) public;
```

</div>
</div>

<div class="api-node" markdown>

### `constructor` { #fn_constructor }

<div class="api-node-source" markdown>
Defined in `Governed` ([Docs](./Governed.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/Governed.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
constructor(
    address _governance
) public;
```

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_governance` | `address` | Governance contract. Must not be zero. |

</div>
</div>

<div class="api-node" markdown>

### `deactivate` { #fn_deactivate }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function deactivate(
) external;
```

Deactivates reward manager (prevents claiming rewards).

Only [`governance`](#fn_governance) can call this method.

</div>
</div>

<div class="api-node" markdown>

### `defaultFeePercentage` { #fn_defaultfeepercentage }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function defaultFeePercentage(
) external view returns (
    uint256);
```

Returns the configured default fee percentage.

</div>
</div>

<div class="api-node" markdown>

### `distributeRewards` { #fn_distributerewards }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function distributeRewards(
    address[] _addresses,
    uint256[] _weights,
    uint256 _totalWeight,
    uint256 _epochId,
    address _ftso,
    uint256 _priceEpochDurationSeconds,
    uint256 _currentRewardEpoch,
    uint256 _priceEpochEndTime,
    uint256 _votePowerBlock
) external;
```

Distributes price epoch rewards to data provider accounts, according to input parameters.
Must be called with `totalWeight` > 0 and `addresses.length` > 0.

The amount of rewards for a given price epoch ID are calculated in [`FtsoRewardManager`](./FtsoRewardManager.md) from
`priceEpochDurationSeconds`, `priceEpochEndTime` and inflation authorization data
(see `_getTotalPriceEpochRewardWei` in [`FtsoRewardManager`](./FtsoRewardManager.md).
Then each data provider address is given a portion of this amount according to corresponding weight
and total sum of weights.

Parameters `epochId` and `ftso` are only needed so they can be passed onto the emitted event.

Only the [`ftsoManager`](#va_ftsomanager) can call this method.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_addresses` | `address[]` |  |
| `_weights` | `uint256[]` |  |
| `_totalWeight` | `uint256` |  |
| `_epochId` | `uint256` |  |
| `_ftso` | `address` |  |
| `_priceEpochDurationSeconds` | `uint256` |  |
| `_currentRewardEpoch` | `uint256` |  |
| `_priceEpochEndTime` | `uint256` |  |
| `_votePowerBlock` | `uint256` |  |

</div>
</div>

<div class="api-node" markdown>

### `enableClaims` { #fn_enableclaims }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function enableClaims(
) external;
```

Enable claiming for current and all future reward epochs.

Only [`governance`](#fn_governance) can call this method.

</div>
</div>

<div class="api-node" markdown>

### `executeGovernanceCall` { #fn_executegovernancecall }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function executeGovernanceCall(
    bytes4 _selector
) external;
```

Execute the timelocked [`governance`](#fn_governance) calls once the timelock period expires.

Only executor can call this method.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_selector` | `bytes4` | The method selector (only one timelocked call per method is stored). |

</div>
</div>

<div class="api-node" markdown>

### `feePercentageUpdateOffset` { #fn_feepercentageupdateoffset }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function feePercentageUpdateOffset(
) external view returns (
    uint256);
```

Returns the amount of reward epoch that need to ellapse before a fee change takes effect.

</div>
</div>

<div class="api-node" markdown>

### `firstClaimableRewardEpoch` { #fn_firstclaimablerewardepoch }

<div class="api-node-source" markdown>
Defined in `IIFtsoRewardManager` ([Docs](./IIFtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/interface/IIFtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function firstClaimableRewardEpoch(
) external view returns (
    uint256);
```

Epochs before the token distribution event at Flare launch were not be claimable.
Use this method to know the first reward epoch that was claimable.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | uint256 The first reward epoch that can be claimed. |
</div>
</div>

<div class="api-node" markdown>

### `getAddressUpdater` { #fn_getaddressupdater }

<div class="api-node-source" markdown>
Defined in `AddressUpdatable` ([Docs](./AddressUpdatable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/addressUpdater/implementation/AddressUpdatable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getAddressUpdater(
) public view returns (
    address _addressUpdater);
```

Returns the configured address updater.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_addressUpdater` | `address` | The `AddresUpdater` contract that can update our contract address list, as a response to a governance call. |
</div>
</div>

<div class="api-node" markdown>

### `getClaimedReward` { #fn_getclaimedreward }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getClaimedReward(
    uint256 _rewardEpoch,
    address _dataProvider,
    address _claimer
) external view returns (
    bool _claimed,
    uint256 _amount);
```

Returns information on the rewards accrued by a reward owner from a specific data provider at a specific
reward epoch.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_rewardEpoch` | `uint256` | Reward epoch ID to query. |
| `_dataProvider` | `address` | Address of the data provider to query. |
| `_claimer` | `address` | Address of the reward owner to query. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_claimed` | `bool` | Whether the reward has been claimed or not. |
| `_amount` | `uint256` | Accrued amount in wei. |
</div>
</div>

<div class="api-node" markdown>

### `getContractName` { #fn_getcontractname }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getContractName(
) external pure returns (
    string);
```

Implement this function to allow updating inflation receiver contracts through [`AddressUpdater`](./AddressUpdater.md).

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `string` | Contract name. |
</div>
</div>

<div class="api-node" markdown>

### `getCurrentRewardEpoch` { #fn_getcurrentrewardepoch }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getCurrentRewardEpoch(
) external view returns (
    uint256);
```

Returns the current reward epoch ID.

</div>
</div>

<div class="api-node" markdown>

### `getDataProviderCurrentFeePercentage` { #fn_getdataprovidercurrentfeepercentage }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getDataProviderCurrentFeePercentage(
    address _dataProvider
) external view returns (
    uint256);
```

Returns the current [fee](https://docs.flare.network/tech/ftso/#rewards) percentage of a data provider.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_dataProvider` | `address` | Address of the queried data provider. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` |  |
</div>
</div>

<div class="api-node" markdown>

### `getDataProviderFeePercentage` { #fn_getdataproviderfeepercentage }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getDataProviderFeePercentage(
    address _dataProvider,
    uint256 _rewardEpoch
) external view returns (
    uint256 _feePercentageBIPS);
```

Returns the [fee](https://docs.flare.network/tech/ftso/#rewards) percentage of a data provider at a
given reward epoch.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_dataProvider` | `address` | Address of the queried data provider. |
| `_rewardEpoch` | `uint256` | Reward epoch ID. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_feePercentageBIPS` | `uint256` | Fee percentage in BIPS. |
</div>
</div>

<div class="api-node" markdown>

### `getDataProviderPerformanceInfo` { #fn_getdataproviderperformanceinfo }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getDataProviderPerformanceInfo(
    uint256 _rewardEpoch,
    address _dataProvider
) external view returns (
    uint256 _rewardAmount,
    uint256 _votePowerIgnoringRevocation);
```

Returns information on rewards and vote power of a data provider at a given reward epoch.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_rewardEpoch` | `uint256` | Reward epoch ID. |
| `_dataProvider` | `address` | Address of the data provider to query. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_rewardAmount` | `uint256` | Amount of rewards (wei). |
| `_votePowerIgnoringRevocation` | `uint256` | Vote power, not including revocations. |
</div>
</div>

<div class="api-node" markdown>

### `getDataProviderScheduledFeePercentageChanges` { #fn_getdataproviderscheduledfeepercentagechanges }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getDataProviderScheduledFeePercentageChanges(
    address _dataProvider
) external view returns (
    uint256[] _feePercentageBIPS,
    uint256[] _validFromEpoch,
    bool[] _fixed);
```

Returns the scheduled [fee](https://docs.flare.network/tech/ftso/#rewards) percentage changes for a data
provider.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_dataProvider` | `address` | Address of the queried data provider. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_feePercentageBIPS` | `uint256[]` | Array of fee percentages in BIPS. |
| `_validFromEpoch` | `uint256[]` | Array of block numbers from which the fee settings are effective. |
| `_fixed` | `bool[]` | Array of boolean values indicating whether settings are subject to change or not. |
</div>
</div>

<div class="api-node" markdown>

### `getEpochReward` { #fn_getepochreward }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getEpochReward(
    uint256 _rewardEpoch
) external view returns (
    uint256 _totalReward,
    uint256 _claimedReward);
```

Returns information on an epoch's rewards.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_rewardEpoch` | `uint256` | Reward epoch ID. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_totalReward` | `uint256` | Total amount of rewards accrued on that epoch, in wei. |
| `_claimedReward` | `uint256` | Total amount of rewards that have already been claimed, in wei. |
</div>
</div>

<div class="api-node" markdown>

### `getEpochsWithClaimableRewards` { #fn_getepochswithclaimablerewards }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getEpochsWithClaimableRewards(
) external view returns (
    uint256 _startEpochId,
    uint256 _endEpochId);
```

Returns the reward epoch range for which rewards can be claimed.
Rewards outside this range are unclaimable, either because they have expired or because the reward epoch is
still ongoing.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_startEpochId` | `uint256` | The oldest epoch ID that allows reward claiming. |
| `_endEpochId` | `uint256` | The newest epoch ID that allows reward claiming. |
</div>
</div>

<div class="api-node" markdown>

### `getEpochsWithUnclaimedRewards` { #fn_getepochswithunclaimedrewards }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getEpochsWithUnclaimedRewards(
    address _beneficiary
) external view returns (
    uint256[] _epochIds);
```

Returns the array of claimable epoch IDs for which the rewards of a reward owner have not yet been claimed.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_beneficiary` | `address` | Address of the reward owner to query. Reverts if it uses delegation by amount. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_epochIds` | `uint256[]` | Array of epoch IDs. |
</div>
</div>

<div class="api-node" markdown>

### `getExpectedBalance` { #fn_getexpectedbalance }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getExpectedBalance(
) external view returns (
    uint256);
```

Returns the contract's expected balance
(actual balance may be higher due to self-destruct funds).

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` | Expected native token balance. |
</div>
</div>

<div class="api-node" markdown>

### `getInflationAddress` { #fn_getinflationaddress }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getInflationAddress(
) external view returns (
    address);
```

Returns the address of the [`Inflation`](./Inflation.md) contract.

</div>
</div>

<div class="api-node" markdown>

### `getInitialRewardEpoch` { #fn_getinitialrewardepoch }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getInitialRewardEpoch(
) external view returns (
    uint256 _initialRewardEpoch);
```

Returns the initial reward epoch ID for this reward manager contract.
This corresponds to the oldest reward epoch with claimable rewards in the previous reward manager when this
one took over.
Set by [`governance`](#fn_governance) through [`setInitialRewardData`](#fn_setinitialrewarddata).

</div>
</div>

<div class="api-node" markdown>

### `getRewardEpochToExpireNext` { #fn_getrewardepochtoexpirenext }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getRewardEpochToExpireNext(
) external view returns (
    uint256);
```

Returns the reward epoch that will expire next once a new reward epoch starts.

</div>
</div>

<div class="api-node" markdown>

### `getRewardEpochVotePowerBlock` { #fn_getrewardepochvotepowerblock }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getRewardEpochVotePowerBlock(
    uint256 _rewardEpoch
) external view returns (
    uint256);
```

Returns the [vote power block](https://docs.flare.network/tech/ftso/#vote-power) of a given reward epoch.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_rewardEpoch` | `uint256` | Reward epoch ID. |

</div>
</div>

<div class="api-node" markdown>

### `getStateOfRewards` { #fn_getstateofrewards }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getStateOfRewards(
    address _beneficiary,
    uint256 _rewardEpoch
) external view returns (
    address[] _dataProviders,
    uint256[] _rewardAmounts,
    bool[] _claimed,
    bool _claimable);
```

Returns the state of rewards for a given address at a specific reward epoch.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_beneficiary` | `address` | Address of the beneficiary to query. It can be a data provider or a delegator, for example.<br>Reverts if the queried address is delegating by amount. |
| `_rewardEpoch` | `uint256` | Reward epoch ID to query. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_dataProviders` | `address[]` | Array of addresses of data providers. |
| `_rewardAmounts` | `uint256[]` | Array of reward amounts received from each provider, in wei. |
| `_claimed` | `bool[]` | Array of boolean values indicating whether each reward has been claimed or not. |
| `_claimable` | `bool` | Boolean value indicating whether rewards are claimable or not. |
</div>
</div>

<div class="api-node" markdown>

### `getStateOfRewardsFromDataProviders` { #fn_getstateofrewardsfromdataproviders }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getStateOfRewardsFromDataProviders(
    address _beneficiary,
    uint256 _rewardEpoch,
    address[] _dataProviders
) external view returns (
    uint256[] _rewardAmounts,
    bool[] _claimed,
    bool _claimable);
```

Returns the state of rewards for a given address coming from a specific set of data providers, at a specific
reward epoch.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_beneficiary` | `address` | Address of beneficiary to query. |
| `_rewardEpoch` | `uint256` | Reward epoch ID to query. |
| `_dataProviders` | `address[]` | Array of addresses of the data providers to query. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_rewardAmounts` | `uint256[]` | Array of reward amounts received from each provider, in wei. |
| `_claimed` | `bool[]` | Array of boolean values indicating whether each reward has been claimed or not. |
| `_claimable` | `bool` | Boolean value indicating whether rewards are claimable or not. |
</div>
</div>

<div class="api-node" markdown>

### `getTokenPoolSupplyData` { #fn_gettokenpoolsupplydata }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getTokenPoolSupplyData(
) external view returns (
    uint256 _lockedFundsWei,
    uint256 _totalInflationAuthorizedWei,
    uint256 _totalClaimedWei);
```

Returns token pool supply data.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_lockedFundsWei` | `uint256` | Total amount of funds ever locked in the token pool (wei). `_lockedFundsWei` - `_totalClaimedWei` is the amount currently locked and outside the circulating supply. |
| `_totalInflationAuthorizedWei` | `uint256` | Total inflation authorized amount (wei). |
| `_totalClaimedWei` | `uint256` | Total claimed amount (wei). |
</div>
</div>

<div class="api-node" markdown>

### `getTotals` { #fn_gettotals }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getTotals(
) external view returns (
    uint256 _totalAwardedWei,
    uint256 _totalClaimedWei,
    uint256 _totalExpiredWei,
    uint256 _totalUnearnedWei,
    uint256 _totalBurnedWei,
    uint256 _totalInflationAuthorizedWei,
    uint256 _totalInflationReceivedWei,
    uint256 _lastInflationAuthorizationReceivedTs,
    uint256 _dailyAuthorizedInflation);
```

Returns statistics regarding rewards, accumulated over the whole lifespan of the reward manager contract.

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_totalAwardedWei` | `uint256` | Rewards that were distributed (wei). |
| `_totalClaimedWei` | `uint256` | Distributed rewards that were claimed in time (wei). |
| `_totalExpiredWei` | `uint256` | Distributed rewards that were not claimed in time and expired (wei). |
| `_totalUnearnedWei` | `uint256` | Rewards that were unearned (due to FTSO being in fallback mode) and thus were not distributed (wei). |
| `_totalBurnedWei` | `uint256` | Rewards that were unearned or expired and thus burned (wei). |
| `_totalInflationAuthorizedWei` | `uint256` | Total inflation authorized amount (wei). |
| `_totalInflationReceivedWei` | `uint256` | Total inflation received amount (wei). |
| `_lastInflationAuthorizationReceivedTs` | `uint256` | UNIX timestamp of the last inflation authorization. |
| `_dailyAuthorizedInflation` | `uint256` | [`Inflation`](./Inflation.md) authorized amount (wei) at the time of last authorization. |
</div>
</div>

<div class="api-node" markdown>

### `getUnclaimedReward` { #fn_getunclaimedreward }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function getUnclaimedReward(
    uint256 _rewardEpoch,
    address _dataProvider
) external view returns (
    uint256 _amount,
    uint256 _weight);
```

Returns information on unclaimed rewards for a given data provider and epoch.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_rewardEpoch` | `uint256` | Queried reward epoch ID. |
| `_dataProvider` | `address` | Address of the queried data provider. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| `_amount` | `uint256` | Amount available to be claimed, in wei. |
| `_weight` | `uint256` | Portion of total vote power used in this reward epoch that has not yet claimed its reward, in BIPS. It decreases to 0 when all data providers have claimed their rewards. |
</div>
</div>

<div class="api-node" markdown>

### `governance` { #fn_governance }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function governance(
) public view returns (
    address);
```

Returns the current effective [`governance`](#fn_governance) address.

</div>
</div>

<div class="api-node" markdown>

### `nextClaimableRewardEpoch` { #fn_nextclaimablerewardepoch }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function nextClaimableRewardEpoch(
    address _rewardOwner
) external view returns (
    uint256);
```

Returns the next claimable reward epoch for a reward owner.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_rewardOwner` | `address` | Address of the reward owner to query. |

</div>
</div>

<div class="api-node" markdown>

### `receiveInflation` { #fn_receiveinflation }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function receiveInflation(
) external payable;
```

Receive native tokens from inflation.

Only the `inflation` contract can call this method.

</div>
</div>

<div class="api-node" markdown>

### `setDailyAuthorizedInflation` { #fn_setdailyauthorizedinflation }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function setDailyAuthorizedInflation(
    uint256 _toAuthorizeWei
) external;
```

Notify the receiver that it is entitled to receive a new inflation amount.

Only the `inflation` contract can call this method.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_toAuthorizeWei` | `uint256` | The amount of inflation that can be awarded in the coming day, in wei. |

</div>
</div>

<div class="api-node" markdown>

### `setDataProviderFeePercentage` { #fn_setdataproviderfeepercentage }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function setDataProviderFeePercentage(
    uint256 _feePercentageBIPS
) external returns (
    uint256);
```

Sets the [fee](https://docs.flare.network/tech/ftso/#rewards) a data provider keeps from all delegations.

Takes effect after `feeValueUpdateOffset` reward epochs have elapsed.

When called multiple times inside the same reward epoch, only the last value remains.

| Parameters | Type | Description |
| ---------- | ---- | ----------- |
| `_feePercentageBIPS` | `uint256` | Fee percentage in BIPS. |

| Returns | Type | Description |
| ------- | ---- | ----------- |
| [0] | `uint256` |  |
</div>
</div>

<div class="api-node" markdown>

### `setInitialRewardData` { #fn_setinitialrewarddata }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function setInitialRewardData(
) external;
```

Copy initial reward data from [`oldFtsoRewardManager`](#va_oldftsorewardmanager) before starting up this new reward manager.
Should be called at the time of switching to the new reward manager, can be called only once, and only
by [`governance`](#fn_governance).

</div>
</div>

<div class="api-node" markdown>

### `setNewFtsoRewardManager` { #fn_setnewftsorewardmanager }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function setNewFtsoRewardManager(
    address _newFtsoRewardManager
) external;
```

Sets new ftso reward manager which will take over closing expired reward epochs
Should be called at the time of switching to the new reward manager, can be called only once, and only
by [`governance`](#fn_governance).

</div>
</div>

<div class="api-node" markdown>

### `switchToProductionMode` { #fn_switchtoproductionmode }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function switchToProductionMode(
) external;
```

Enter the production mode after all the initial [`governance`](#fn_governance) settings have been set.
This enables timelocks and the [`governance`](#fn_governance) can be obtained afterward by calling
[`governanceSettings`](#va_governancesettings).getGovernanceAddress().
Emits [`GovernedProductionModeEntered`](#ev_governedproductionmodeentered).

</div>
</div>

<div class="api-node" markdown>

### `updateContractAddresses` { #fn_updatecontractaddresses }

<div class="api-node-source" markdown>
Defined in `AddressUpdatable` ([Docs](./AddressUpdatable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/addressUpdater/implementation/AddressUpdatable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
function updateContractAddresses(
    bytes32[] _contractNameHashes,
    address[] _contractAddresses
) external;
```

External method called from [`AddressUpdater`](./AddressUpdater.md) only.

</div>
</div>

</div>

<div class="api-node-type" markdown>

## Modifiers

<div class="api-node" markdown>

### `mustBalance` { #md_mustbalance }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier mustBalance()
```

</div>
</div>

<div class="api-node" markdown>

### `nonReentrant` { #md_nonreentrant }

<div class="api-node-source" markdown>
Defined in `ReentrancyGuard` ([Source](https://github.com/OpenZeppelin/openzeppelin-contracts/tree/release-v3.4/contracts/utils/ReentrancyGuard.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier nonReentrant()
```

Prevents a contract from calling itself, directly or indirectly.
Calling a `nonReentrant` function from another `nonReentrant`
function is not supported. It is possible to prevent this from happening
by making the `nonReentrant` function external, and make it call a
`private` function that does the actual work.

</div>
</div>

<div class="api-node" markdown>

### `onlyAddressUpdater` { #md_onlyaddressupdater }

<div class="api-node-source" markdown>
Defined in `AddressUpdatable` ([Docs](./AddressUpdatable.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/addressUpdater/implementation/AddressUpdatable.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier onlyAddressUpdater()
```

Only the `AdressUpdater` contract can call this method.
Its address is set at construction time but it can also update itself.

</div>
</div>

<div class="api-node" markdown>

### `onlyExecutorAndAllowedRecipient` { #md_onlyexecutorandallowedrecipient }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier onlyExecutorAndAllowedRecipient(    address _rewardOwner,
    address _recipient)
```

Only the reward owner and its authorized executors can call this method.
Executors can only send rewards to authorized recipients.
See [`ClaimSetupManager`](./ClaimSetupManager.md).

</div>
</div>

<div class="api-node" markdown>

### `onlyFtsoManager` { #md_onlyftsomanager }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier onlyFtsoManager()
```

Only the [`ftsoManager`](#va_ftsomanager) contract can call this method.

</div>
</div>

<div class="api-node" markdown>

### `onlyGovernance` { #md_onlygovernance }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier onlyGovernance()
```

</div>
</div>

<div class="api-node" markdown>

### `onlyIfActive` { #md_onlyifactive }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier onlyIfActive()
```

This method can only be called if the contract is [`active`](#va_active).

</div>
</div>

<div class="api-node" markdown>

### `onlyImmediateGovernance` { #md_onlyimmediategovernance }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier onlyImmediateGovernance()
```

</div>
</div>

<div class="api-node" markdown>

### `onlyInflation` { #md_onlyinflation }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
modifier onlyInflation()
```

Only the [`Inflation`](./Inflation.md) contract can call this method.

</div>
</div>

</div>

<div class="api-node-type" markdown>

## Structures

<div class="api-node" markdown>

### `RewardClaim` { #st_rewardclaim }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

</div>
```solidity
struct RewardClaim {
  bool claimed;
  uint128 amount;
}
```

</div>

<div class="api-node" markdown>

### `RewardState` { #st_rewardstate }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

</div>
```solidity
struct RewardState {
  address[] dataProviders;
  uint256[] weights;
  uint256[] amounts;
  bool[] claimed;
}
```

</div>

<div class="api-node" markdown>

### `TimelockedCall` { #st_timelockedcall }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

</div>
```solidity
struct TimelockedCall {
  uint256 allowedAfterTimestamp;
  bytes encodedCall;
}
```

</div>

<div class="api-node" markdown>

### `UnclaimedRewardState` { #st_unclaimedrewardstate }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

</div>
```solidity
struct UnclaimedRewardState {
  uint128 amount;
  uint128 weight;
}
```

</div>

</div>

<div class="api-node-type" markdown>

## Variables

<div class="api-node" markdown>

### `active` { #va_active }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    bool active
```

Whether rewards can be claimed from this reward manager.

</div>
</div>

<div class="api-node" markdown>

### `claimSetupManager` { #va_claimsetupmanager }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    contract IIClaimSetupManager claimSetupManager
```

The [`ClaimSetupManager`](./ClaimSetupManager.md) contract that helps automate reward claiming.

</div>
</div>

<div class="api-node" markdown>

### `firstClaimableRewardEpoch` { #va_firstclaimablerewardepoch }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    uint256 firstClaimableRewardEpoch
```

Epochs before the token distribution event at Flare launch were not be claimable.
This variable holds the first reward epoch that was claimable.

</div>
</div>

<div class="api-node" markdown>

### `ftsoManager` { #va_ftsomanager }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    contract IIFtsoManager ftsoManager
```

The [`FtsoManager`](./FtsoManager.md) contract that controls reward distribution.

</div>
</div>

<div class="api-node" markdown>

### `governanceSettings` { #va_governancesettings }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    contract IGovernanceSettings governanceSettings
```

Governance Settings.

</div>
</div>

<div class="api-node" markdown>

### `newFtsoRewardManager` { #va_newftsorewardmanager }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    address newFtsoRewardManager
```

Address of the new [`FtsoRewardManager`](./FtsoRewardManager.md) that replaced this one.

</div>
</div>

<div class="api-node" markdown>

### `oldFtsoRewardManager` { #va_oldftsorewardmanager }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    address oldFtsoRewardManager
```

Address of the old [`FtsoRewardManager`](./FtsoRewardManager.md), replaced by this one.

</div>
</div>

<div class="api-node" markdown>

### `productionMode` { #va_productionmode }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    bool productionMode
```

When true, [`governance`](#fn_governance) is enabled and cannot be disabled. See [`switchToProductionMode`](#fn_switchtoproductionmode).

</div>
</div>

<div class="api-node" markdown>

### `timelockedCalls` { #va_timelockedcalls }

<div class="api-node-source" markdown>
Defined in `GovernedBase` ([Docs](./GovernedBase.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/governance/implementation/GovernedBase.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    mapping(bytes4 => struct GovernedBase.TimelockedCall) timelockedCalls
```

List of pending timelocked [`governance`](#fn_governance) calls.

</div>
</div>

<div class="api-node" markdown>

### `wNat` { #va_wnat }

<div class="api-node-source" markdown>
Defined in `FtsoRewardManager` ([Docs](./FtsoRewardManager.md), [Source](https://gitlab.com/flarenetwork/flare-smart-contracts/-/tree/master/contracts/tokenPools/implementation/FtsoRewardManager.sol)).
</div>

<div class="api-node-internal" markdown>

```solidity
    contract WNat wNat
```

Address of the wrapped native token ([`WNat`](./WNat.md)) contract.

</div>
</div>

</div>

